<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tower Defense Game (TDG)</title>
<style>
  body { margin:0; font-family:Arial, sans-serif; background:#222; color:#fff; }
  #hud { position:absolute; top:10px; right:10px; background:rgba(0,0,0,0.6); padding:8px 12px; border-radius:4px; display:none; }
  #hud.visible { display:block; }
  #hud span { margin-right:10px; }
  #btn-start-wave { margin-top:5px; }
  canvas { display:block; margin:0 auto; background:#111; }
  #error-display { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(200,0,0,0.9); padding:20px; border-radius:8px; max-width:600px; display:none; z-index:100; font-size:14px; white-space:pre-wrap; }
</style>
</head>
<body>
<div id="hud">
  <span id="wave-number"></span>
  <span id="wave-status"></span>
  <div><button id="start-wave" class="btn">Start Wave</button></div>
</div>
<div id="error-display"></div>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<script>
  // Non-module error catcher â€” runs before the module loads
  window.onerror = function(msg, src, line, col, err) {
    var el = document.getElementById('error-display');
    if (el) { el.style.display = 'block'; el.textContent = 'ERROR: ' + msg + '\nat ' + src + ':' + line + ':' + col; }
    console.error('[GLOBAL]', msg, src, line, col, err);
  };
  window.addEventListener('unhandledrejection', function(e) {
    var el = document.getElementById('error-display');
    if (el) { el.style.display = 'block'; el.textContent = 'PROMISE ERROR: ' + (e.reason && e.reason.stack || e.reason); }
    console.error('[PROMISE]', e.reason);
  });
</script>

<script type="module" src="./src/main.js"></script>
</body>
</html>
